# 3.5. Refinamiento de Escenarios

| ID     | Atributo de calidad | Fuente Estímulo                        | Estímulo                                 | Artefacto                     | Entorno                        | Respuesta                                                  | Medida de Respuesta                             |
|--------|--------------------|--------------------------------------|-----------------------------------------|------------------------------|-------------------------------|------------------------------------------------------------|------------------------------------------------|
| ESC-01 | Disponibilidad     | Falla del servidor principal          | Servidor en la nube                      | Módulo de reservas           | Operación normal              | Conmutación automática entre instancias activas            | ≥ 98% de disponibilidad mensual                |
| ESC-02 | Disponibilidad     | API de pago no responde               | Plataforma externa                       | Módulo de pagos              | Pago en proceso              | Reintento automático antes de fallo                         | Recuperación del 90% de transacciones           |
| ESC-11 | Interoperabilidad  | Solicitud de cobro tras reserva confirmada | Módulo de reservas                       | Microservicio de Pagos       | Operación integrada con terceros (Yape, Plin, Stripe) | Llamada a pasarela de pago externa con transformación de datos según API del proveedor | 98% de transacciones procesadas correctamente en primera llamada |
| ESC-15 | Rendimiento       | 15 registros simultáneos              | Sistema                                 | Node.js + PostgreSQL (Sequelize) | Producción                   | Pool de conexiones optimizado para mantener respuestas en tiempo real | 95% de requests < 1.5s (test k6, 100 VUs)      |
| ESC-19 | Rendimiento       | 100 usuarios reservando a la vez      | Usuario concurrente                     | Módulo de reservas + DB      | Horario pico                 | Caching temporal y acceso concurrente controlado            | 85% de reservas < 3.5s (medición Prometheus)    |
| ESC-03 | Disponibilidad     | No se asigna proveedor a tiempo       | Solicitud urgente                       | Módulo de mantenimiento      | En operación                | Notificación automática a proveedores                        | 95% de atención oportuna                         |
| ESC-04 | Disponibilidad     | Error al cargar historial de usuario  | Consultas frecuentes                    | Módulo de perfil             | Horario habitual            | Consulta a logs de respaldo                                  | Acceso garantizado en 98% de los casos           |
| ESC-05 | Mantenibilidad    | Cambios en reglas de disponibilidad   | Administrador del sistema               | Controlador de reservas      | En tiempo de desarrollo      | Parametrización del calendario de reservas                  | <3 horas por regla agregada o modificada         |
| ESC-31 | Usabilidad        | Usuario no comprende cómo filtrar canchas | Feedback directo                        | Buscador de reservas         | Mobile                      | Ayuda contextual + diseño con affordances                   | 70% usuarios completan sin ayuda                  |
| ESC-10 | Interoperabilidad | Usuario completa registro y selecciona plan premium | Usuario del sistema                     | Microservicio de Gestión de Usuarios | Operación normal con múltiples microservicios | El sistema debe coordinar automáticamente con el módulo de Gestión de Planes para procesar la suscripción premium | Flujo completo en <3s con 100% de intercambios exitosos (medido vía logs y APM) |
| ESC-20 | Seguridad         | 100+ intentos de login fallidos desde una misma IP | Ataque automatizado                     | Endpoint de autenticación    | Producción                  | Bloqueo temporal + CAPTCHA progresivo                        | <0.1% éxito en ataques brute force                |
| ESC-22 | Seguridad         | Interceptación de datos en tránsito    | Atacante externo                       | Módulo de pagos              | En línea                    | Encriptación HTTPS + Validación HMAC                        | 100% comunicaciones encriptadas                   |
| ESC-24 | Seguridad         | Usuario intenta ver reporte sin permiso | Usuario interno malicioso               | Módulo financiero            | Operación normal            | Validación token + verificación rol                         | 95% bloqueos exitosos                              |
| ESC-26 | Usabilidad        | 35% de abandono en registro            | Google Analytics                       | Formulario de registro       | Mobile (60% tráfico)        | Rediseño progresivo con validación inmediata                | Reducción al 15% de abandono                      |
| ESC-32 | Escalabilidad     | Solicita habilitar sedes en nuevas ciudades | Administrador del sistema               | Gestión de reservas          | Despliegue de nuevas sedes  | Sistema permite registrar nuevas sedes y canchas            | Tiempo promedio de despliegue < 4 horas           |
| ESC-37 | Variabilidad      | Desea elegir qué tipo de alertas recibir | Usuario                               | Perfil de usuario            | Configuración               | Sistema guarda y respeta preferencias de notificación       | 100% de persistencia de configuración personalizada |
| ESC-07 | Mantenibilidad    | Agregar nuevo tipo de proveedor        | Administrador                         | Esquema de base de datos y lógica de negocio | En tiempo de desarrollo    | Modularización de servicios y actualización dinámica       | <1 día para soportar un nuevo tipo de proveedor  |
| ESC-09 | Mantenibilidad    | Requerimiento de validación regional   | Reglamento externo                   | Servicio de registro y validación | En mantenimiento regular   | División del módulo de validación por contexto              | <5 horas para agregar nueva región                 |
| ESC-14 | Interoperabilidad | Verificación de identidad con RENIEC   | Servicio externo (RENIEC)             | Servicio de verificación de identidad | Operación normal           | Comunicación con API de RENIEC para validar datos antes del registro | 99% de respuestas en <2s con validación positiva en primera llamada |
| ESC-27 | Usabilidad        | 40% no completan recuperación           | Tickets de soporte                   | Flujo de recuperación        | Multiplataforma             | Asistente paso a paso con validación                         | 78% completitud del proceso                        |
| ESC-28 | Usabilidad        | Usuario no sabe cómo completar pago    | Feedback de usuario                  | Interfaz de pagos            | Producción                 | Instrucciones visuales paso a paso                          | 70% reducción en abandonos                         |
| ESC-33 | Testabilidad      | Notificación llegó a un usuario incorrecto | Tester                              | Sistema de notificaciones    | Pruebas de QA              | Sistema redirige correctamente la notificación según destinatario | Casos corregidos en < 24 h posterior al reporte  |
| ESC-25 | Seguridad         | Usuario intenta modificar reserva de otro | Usuario malicioso                   | Módulo de reservas           | En línea                   | Validación de propiedad de recurso                          | 100% intentos rechazados                           |
| ESC-34 | Escalabilidad     | Múltiples pagos al mismo tiempo          | Usuario                              | Gestión de pagos             | Alta concurrencia          | Sistema procesa pagos concurrentes sin fallos               | ≥ 95% de transacciones exitosas bajo carga        |
| ESC-39 | Testabilidad      | Envío de notificaciones masivas          | Sistema                              | Sistema de notificaciones    | Evento de comunicación simultánea | Sistema entrega notificaciones a todos los usuarios previstos | ≥ 90% entregas realizadas en < 30 s               |
| ESC-06 | Mantenibilidad    | Cambio en proveedor de pagos             | Administrador                       | Controlador de pagos         | En tiempo de desarrollo    | Encapsulamiento de lógica de integración                     | <6 horas para migrar a nuevo proveedor             |
| ESC-08 | Mantenibilidad    | Cambio en formato de reportes contables  | Área financiera                    | Plantillas y controladores de reportes | En operación regular       | Plantillas configurables desde dashboard                    | <3 horas por nuevo formato                          |
| ESC-16 | Rendimiento       | Alta concurrencia de pagos (100 usuarios/min) | Plataforma durante evento deportivo | API de pagos externos + backend de pagos | Horario pico               | Procesamiento paralelo con workers y respuestas asincrónicas | 90% de transacciones < 2s (monitor Prometheus)    |
| ESC-17 | Rendimiento       | 50 solicitudes simultáneas de asignación de mantenimiento | Complejo deportivo              | API de mantenimiento y proveedor | Día hábil                 | Programación eficiente y control de concurrencia           | 80% de tareas iniciadas en <1.8s                   |
| ESC-23 | Seguridad         | Acceso no autorizado a datos sensibles    | Atacante externo                  | Módulo de proveedores        | Producción                 | RBAC + cifrado AES-256 de datos                              | 0 accesos no autorizados                            |
| ESC-30 | Usabilidad        | Usuario no encuentra resumen financiero   | Feedback clientes                | Panel financiero             | Operación normal           | Filtros + búsqueda autocompletada                           | 85% tareas completadas <2 min                       |
| ESC-35 | Escalabilidad     | Nuevos complejos deportivos agregados      | Administrador del sistema        | Gestión financiera           | Incremento en volumen de datos | Sistema procesa reportes y datos sin degradación            | Tiempo de carga de reportes < 5 s para 100 complejos |
| ESC-12 | Interoperabilidad | Consulta a sistema de reputación externo    | Sistema externo (proveedor aliado) | Módulo de gestión de proveedores | Operación regular (diaria) | Llamada periódica a servicio externo RESTful y sincronización local de reseñas | 95% de reseñas sincronizadas sin error en intervalo de 6h |
| ESC-21 | Seguridad         | Token de reset predecible                    | Auditoría de seguridad          | Flujo password reset         | Producción                 | JWT firmados + OTP temporal                                 | 0 incidentes reportados en 6 meses                  |
| ESC-29 | Usabilidad        | Dificultad para actualizar servicios          | Administrador sistema           | Formulario de servicios      | Operación normal           | Edición online con validación instantánea                   | Tiempo medio edición <1.5 min                       |
| ESC-36 | Portabilidad      | Accede a la plataforma desde otro dispositivo | Usuario                        | Interfaz de usuario          | Multiplataforma            | Sistema adapta la vista según el dispositivo                | Funcionalidad ≥ 95% idéntica entre dispositivos    |
| ESC-38 | Variabilidad      | Enviar mensajes por múltiples canales          | Usuario / Sistema              | Sistema de notificaciones    | Multiplataforma            | Enrutamiento automático según canal disponible              | ≥ 95% entregas exitosas por canal                   |

