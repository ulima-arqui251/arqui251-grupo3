# 8.2. Patrones de Componente y Conector

En esta sección se describe la aplicación de los patrones arquitectónicos en cada uno de los microservicios del sistema. La selección se basa en las necesidades funcionales y los atributos de calidad prioritarios para cada módulo.

Módulo de Reservas
Se utilizó el patrón Microservicios para aislar la funcionalidad de gestión de reservas del resto del sistema. Internamente, se aplicó el patrón Modelo-Vista-Controlador (MVC) para separar responsabilidades. Este módulo expone endpoints RESTful que permiten registrar, cancelar y visualizar reservas. Se consideró también el patrón Event-Driven Architecture para manejar eventos como notificaciones de confirmación mediante colas de mensajes.

Módulo de Finanzas
Este módulo implementa el patrón Microkernel debido a la necesidad de contar con un núcleo base extensible mediante plugins, como reportes adicionales o formatos de exportación. Además, se integra con otros módulos a través de un Orquestador de Servicios, que coordina los datos financieros provenientes de pagos y reservas.

Módulo de Usuarios
El módulo de usuarios aplica el patrón Layered Architecture, distribuyendo la lógica en capas: controlador, servicio y repositorio. Esto permite mantener una estructura organizada y facilita futuras modificaciones. También se aplicó el patrón Autenticación Centralizada, usando JWT y middleware para la validación de tokens en todas las rutas protegidas.

Módulo de Pagos
Debido a su sensibilidad e integración con servicios externos, se empleó el patrón Gateway Routing, permitiendo que todas las solicitudes de pago pasen por un único punto de entrada que redirige a las pasarelas correspondientes. Se integró el patrón Transactional Outbox para garantizar la consistencia eventual entre la base de datos del sistema y los servicios de terceros.

Módulo de Mantenimiento
Este módulo implementa el patrón Scheduler-Based Processing, que permite programar tareas de mantenimiento recurrentes. Además, sigue una arquitectura por capas e incluye validación de entradas mediante middlewares. La trazabilidad se logra mediante el registro de eventos relevantes.
