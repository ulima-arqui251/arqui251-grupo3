# 8.1. Patrones de Módulo
Descomposición por Dominio vs Arquitectura en Capas para SportSync

## Contexto
SportSync es una plataforma web desarrollada con React en el frontend, Node.js + Express en el backend y una base de datos principal en PostgreSQL. Se prevé la incorporación de servicios adicionales como notificaciones push, integraciones de pagos móviles (Yape/Plin), y generación de reportes PDF/Excel.

El sistema gestiona distintos procesos como reservas de canchas, pagos, mantenimiento, gestión de proveedores, usuarios, reportes financieros y notificaciones. Cada uno de estos módulos tiene reglas de negocio específicas y flujos funcionales distintos. Por ello, es clave definir una estrategia de organización modular que facilite el desarrollo independiente de cada área.

## Alternativas Evaluadas
### Arquitectura en Capas (Layered Architecture)

Organización técnica horizontal: presentación → lógica → persistencia.

- Facilidad para separar responsabilidades técnicas.
- Apto para sistemas pequeños o con baja complejidad de dominio.
- Limita la evolución independiente de funcionalidades específicas (ej. mantenimiento vs pagos).

### Descomposición Específica por Dominio (Domain-Driven Design - DDD)

- Organización vertical por áreas funcionales del negocio deportivo.
- Cada módulo encapsula su lógica de negocio, API, servicios, modelos y base de datos relacionada.
- Promueve equipos autónomos y la escalabilidad por dominio.
- Ideal para contextos como SportSync con múltiples stakeholders y procesos diferenciados.

### Organización por Tecnología

Agrupar por frameworks (ej. controllers, models, views).

Rápido de configurar al inicio.

Poco intuitivo a largo plazo en sistemas ricos en dominios.

Genera fuerte acoplamiento entre lógicas distintas.

### Criterios de Elección 

Criterio	Relevancia en SportSync
- Cohesión Funcional	Alta: cada módulo tiene flujos propios (ej. mantenimiento ≠ pagos).
- Mantenibilidad	Alta: la estructura por dominio permite ubicar y modificar código fácilmente.
- Desacoplamiento	Medio-Alto: se mantienen límites entre dominios, aunque se trabaja dentro de un monolito.
- Escalabilidad	Alta: módulos autónomos permiten expansión por funcionalidad.
- Adaptabilidad	Alta: posible entregar funcionalidades específicas a distintos clientes o escalar como microservicios.

### Decisión 
Se adopta la Arquitectura en Capas Modularizada por Dominio como patrón de módulo principal para SportSync.

Esta estrategia mantiene el enfoque en capas (controller → service → repository), pero organiza los archivos por dominio funcional y no por tipo técnico global. Esto conserva las ventajas de la separación de responsabilidades técnicas, al mismo tiempo que introduce cohesión por dominio y una mayor escalabilidad.

### Modularización propuesta para SportSync 

Cada dominio funcional tendrá su propio conjunto encapsulado de componentes:

Controladores (controllers)
Servicios (services)
Repositorios (repositories)
Modelos (models)
Rutas (routes.js)
Pruebas (tests/)

### Sustento de la decisión 
Compatibilidad con la arquitectura actual: permite evolucionar la organización del código sin romper el esquema en capas ya adoptado.

Modularización clara por dominio: facilita el trabajo distribuido por equipos o funcionalidades.

Preparación para el crecimiento: si se requiere dividir por microservicios o entregar funcionalidades específicas a clientes, esta organización lo permite.

Aislabilidad de errores: un fallo en mantenimiento no afecta reservas, ni pagos.

Facilidad de pruebas y despliegue: cada módulo se puede testear y mantener de forma aislada.
