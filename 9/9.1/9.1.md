\# 9.1. Revisión de Entradas

HENRY SARMIENTO

## Funcionalidades primarias (Casos de Uso Implementados)

| ID    | Módulo                       | Nombre                      | Historia de Usuario                                                                                                                                                           |
|-------|-----------------------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RF1.1 | Gestión de Reservas          | Búsqueda de Polideportivos  | Como usuario, quiero buscar polideportivos según fecha, hora, ubicación y tipo, para encontrar fácilmente una opción que se adapte a mis necesidades.                        |
| RF1.2 | Gestión de Reservas          | Vista de Calendario          | Como usuario, quiero ver un calendario con horarios ocupados y libres, para saber cuándo puedo reservar una cancha.                                                         |
| RF1.3 | Gestión de Reservas          | Filtros Personalizados       | Como usuario, quiero aplicar filtros (tipo de deporte, precio, techado, iluminación), para encontrar una cancha que cumpla mis preferencias.                                |
| RF1.4 | Gestión de Reservas          | Realizar Reserva             | Como usuario, quiero reservar una cancha seleccionando un horario disponible, para asegurar mi espacio.                                                                     |
| RF1.5 | Gestión de Reservas          | Administración de Canchas    | Como administrador, quiero registrar, editar o eliminar canchas, para mantener actualizada la oferta del sistema.                                                            |
| RF1.6 | Gestión de Reservas          | Aprobación de Reserva        | Como administrador, quiero aprobar o cancelar reservas, para tener control sobre la disponibilidad.                                                                         |
| RF1.7 | Gestión de Reservas          | Confirmación de Reserva      | Como usuario y administrador, quiero recibir confirmaciones de reserva, para estar al tanto del estado de la solicitud.                                                     |
| RF2.1 | Gestión de Pagos             | Métodos de Pago Integrados   | Como usuario, quiero pagar con métodos como Yape, Plin o tarjeta, para tener flexibilidad al momento del pago.                                                              |
| RF2.2 | Gestión de Pagos             | Vinculación con Reservas     | Como sistema, quiero asociar cada pago con una reserva, para garantizar que solo reservas pagadas estén activas.                                                             |
| RF3.1 | Proveedores y Mantenimiento  | Registro de Proveedores      | Como administrador, quiero registrar proveedores de servicios, para contar con opciones para mantenimiento o atención.                                                      |
| RF3.2 | Proveedores y Mantenimiento  | Solicitudes de Servicio      | Como administrador, quiero crear solicitudes para servicios en canchas, para resolver necesidades puntuales.                                                                |
| RF3.3 | Proveedores y Mantenimiento  | Recomendación de Proveedores | Como administrador, quiero ver sugerencias de proveedores según criterios, para tomar decisiones óptimas.                                                                    |
| RF3.4 | Proveedores y Mantenimiento  | Asignación de Proveedor      | Como administrador, quiero asignar proveedores a solicitudes, para garantizar atención oportuna.                                                                             |
| RF3.5 | Proveedores y Mantenimiento  | Confirmación de Proveedor    | Como proveedor, quiero aceptar o rechazar una solicitud, para gestionar mi disponibilidad.                                                                                   |
| RF3.6 | Proveedores y Mantenimiento  | Calificación de Servicio     | Como administrador, quiero calificar al proveedor después del servicio, para mantener un control de calidad.                                                                 |
| RF3.7 | Proveedores y Mantenimiento  | Historial de Mantenimiento   | Como administrador, quiero ver el historial de servicios por cancha, para tomar decisiones sobre mantenimiento preventivo.                                                  |
| RF5.1 | Gestión de Usuarios y Entidades | Registro de Usuarios        | Como usuario, quiero registrarme con mi correo o número, para usar la plataforma como jugador individual.                                                                    |
| RF5.2 | Gestión de Usuarios y Entidades | Registro de Entidades       | Como entidad, quiero registrarme con datos institucionales (RUC, representante), para realizar reservas a nombre de mi organización.                                        |
| RF5.3 | Gestión de Usuarios y Entidades | Gestión de Perfil           | Como usuario, quiero editar mis datos personales y foto, para mantener mi información actualizada.                                                                           |
| RF5.4 | Gestión de Usuarios y Entidades | Historial de Actividad      | Como usuario, quiero consultar mis reservas y pagos anteriores, para tener un registro de mis actividades.                                                                   |



## Escenarios de Atributos de Calidad



| ID         | Atributo de Calidad    | Fuente Estímulo         | Estímulo                                                    | Artefacto Tecnológico                           | Entorno                         | Respuesta del Sistema                                                              | Medida de Respuesta                                              | Casos de uso relacionados |

|------------|------------------------|-------------------------|-------------------------------------------------------------|-------------------------------------------------|---------------------------------|------------------------------------------------------------------------------------|------------------------------------------------------------------|---------------------------|

| ESC-01     | Mantenibilidad         | Administrador del sistema | Cambios en reglas de disponibilidad                         | Controlador de reservas                         | En tiempo de desarrollo         | Parametrización del calendario de reservas                                          | <3 horas por regla agregada o modificada                         | RF1.4, RF1.5              |

| ESC-02     | Disponibilidad         | Servidor en la nube     | Falla del servidor principal                                | Módulo de reservas (Node.js + Nginx + DB)       | Producción                       | Conmutación automática entre instancias activas (Redundancia Activa)               | ≥ 95% de disponibilidad mensual                                  | RF1.4, RF1.7              |

| ESC-03     | Rendimiento            | Múltiples usuarios      | 1000 usuarios simultáneos crean reservas                    | Load Balancer + múltiples instancias Node.js    | Producción                       | Sistema mantiene tiempo de respuesta estable                                       | Respuesta ≤3s para 95% de usuarios                               | RF1.4, RF1.7              |

| ESC-04     | Mantenibilidad         | Administrador           | Cambio en proveedor de pagos                                | Controlador de pagos                            | En tiempo de desarrollo         | Encapsulamiento de lógica de integración                                            | <6 horas para migrar a nuevo proveedor                           | RF2.1, RF2.2              |

| ESC-05     | Disponibilidad         | Plataforma externa      | API de pago no responde                                     | Controlador de pagos                            | Pago en proceso                  | Reintento automático con backoff exponencial                                       | Recuperación del 90% de transacciones                           | RF2.1, RF2.2              |

| ESC-06     | Mantenibilidad         | Administrador           | Agregar nuevo tipo de proveedor                             | Esquema de BD + lógica de negocio               | En tiempo de desarrollo         | Modularización de servicios y actualización dinámica                                | <1 día para soportar un nuevo tipo de proveedor                 | RF3.1, RF3.2, RF3.3       |

| ESC-07     | Disponibilidad         | Solicitud urgente       | No se asigna proveedor a tiempo                             | Módulo de mantenimiento                         | En operación                     | Notificación automática paralela a múltiples proveedores (Broadcast)                | 95% de atención oportuna                                        | RF3.2, RF3.4              |

| ESC-08     | Seguridad              | Atacante                | Intento de acceso no autorizado a reservas o pagos          | Node.js + JWT Auth + Middleware                 | Producción                       | Bloqueo inmediato y log de seguridad                                               | Bloqueo inmediato, log generado, error 401/403                   | RF1.4, RF2.1, RF5.1       |

| ESC-09     | Usabilidad             | Usuario                 | Usuario revisa historial de reservas y pagos                | Módulo de perfil                                | Producción                       | Consulta a logs de respaldo en caso de fallo (Fallback funcional)                  | Acceso garantizado en 98% de los casos                           | RF5.4                     |

| ESC-10     | Mantenibilidad         | Reglamento externo      | Nueva validación regional para registros                    | Servicio de registro y validación               | En mantenimiento                 | División del módulo de validación por contexto regional                             | <5 horas para agregar nueva región                               | RF5.1, RF5.2              |

| ESC-INT-01 | Interoperabilidad      | Usuario del sistema     | Usuario completa registro y selecciona plan premium         | Microservicio de Gestión de Usuarios            | Operación normal con microservicios | Coordinación automática con Gestión de Planes para procesar suscripción premium   | Flujo completo <3s, 100% intercambios exitosos                  | RF5.1, RF2.2              |

| ESC-INT-02 | Interoperabilidad      | Módulo de reservas      | Solicitud de cobro tras reserva confirmada                  | Microservicio de Pagos                          | Integración con Yape, Plin, Stripe | Llamada a pasarela externa con adaptación de datos                                  | 98% de transacciones correctas en primera llamada                | RF2.1, RF2.2              |

| ESC-INT-03 | Interoperabilidad      | Sistema externo aliado  | Consulta a sistema de reputación externo                    | Módulo de gestión de proveedores                | Operación diaria                  | Llamada REST periódica y sincronización local de reseñas                           | 95% reseñas sincronizadas sin error en 6h                        | RF3.1, RF3.4              |

| ESC-INT-04 | Interoperabilidad      | Servicio externo (RENIEC) | Verificación de identidad con RENIEC                        | Servicio de verificación de identidad           | Operación normal                  | Comunicación con API de RENIEC para validar datos antes de registrar               | 99% de respuestas <2s, validación positiva                       | RF5.1, RF5.2              |

| ESC-REN-01 | Rendimiento            | Sistema                 | 15 registros simultáneos                                    | Node.js + PostgreSQL (Sequelize)               | Producción                        | Pool de conexiones optimizado para mantener respuesta en tiempo real               | 95% de requests <1.5s (k6, 100 VUs)                              | RF5.1                     |

| ESC-REN-02 | Rendimiento            | Plataforma durante evento | Alta concurrencia de pagos (100 usuarios/min)               | API de pagos + backend de pagos                 | Horario pico                       | Procesamiento paralelo con workers y respuestas asincrónicas                       | 90% de transacciones <2s (Prometheus)                           | RF2.1, RF2.2              |

| ESC-REN-03 | Rendimiento            | Complejo deportivo      | 50 solicitudes simultáneas de mantenimiento                 | API de mantenimiento y proveedor                | Día hábil                          | Programación eficiente con control de concurrencia                                 | 80% de tareas iniciadas en <1.8s                                  | RF3.2, RF3.3              |

| ESC-REN-04 | Rendimiento            | Usuario concurrente     | 100 usuarios reservando a la vez                            | Módulo de reservas + DB                         | Horario pico                       | Caching temporal y acceso concurrente controlado                                   | 85% de reservas <3.5s (Prometheus)                               | RF1.4, RF1.7              |

| ESC-SEC-01 | Seguridad              | Ataque automatizado     | 100+ intentos de login fallidos desde una IP                | Endpoint de autenticación                       | Producción                        | Bloqueo temporal + CAPTCHA progresivo                                              | <0.1% éxito en ataques brute force                               | RF5.1                     |

| ESC-SEC-02 | Seguridad              | Auditoría de seguridad  | Token de reset predecible                                   | Flujo password reset                            | Producción                        | JWT firmados + OTP temporal                                                        | 0 incidentes en 6 meses                                           | RF5.1                     |

| ESC-SEC-03 | Seguridad              | Atacante externo        | Interceptación de datos en tránsito                         | Módulo de pagos                                 | En línea                            | Encriptación HTTPS + Validación HMAC                                               | 100% comunicaciones encriptadas                                  | RF2.1, RF2.2              |

| ESC-SEC-04 | Seguridad              | Atacante externo        | Acceso no autorizado a datos sensibles                      | Módulo de proveedores                           | Producción                        | RBAC + cifrado AES-256                                                              | 0 accesos no autorizados                                         | RF3.1, RF3.4              |

| ESC-SEC-05 | Seguridad              | Usuario malicioso       | Usuario intenta modificar reserva de otro                  | Módulo de reservas                              | En línea                            | Validación de propiedad de recurso                                                 | 100% intentos rechazados                                         | RF1.4                      |

| ESC-USA-01 | Usabilidad             | Google Analytics        | 35% de abandono en registro                                 | Formulario de registro                          | Mobile (60% tráfico)               | Rediseño progresivo con validación inmediata                                       | Reducción al 15% de abandono                                      | RF5.1                      |

| ESC-USA-02 | Usabilidad             | Tickets de soporte      | 40% no completan recuperación                               | Flujo de recuperación                           | Multiplataforma                     | Asistente paso a paso con validación                                               | 78% completitud del proceso                                      | RF5.1                      |

| ESC-USA-03 | Usabilidad             | Feedback de usuario     | Usuario no sabe cómo completar pago                         | Interfaz de pagos                               | Producción                          | Instrucciones visuales paso a paso                                                 | 70% reducción en abandonos                                       | RF2.1, RF2.2               |

| ESC-USA-04 | Usabilidad             | Administrador sistema   | Dificultad para actualizar servicios                        | Formulario de servicios                         | Operación normal                     | Edición online con validación instantánea                                          | Tiempo medio edición <1.5 min                                     | RF3.1, RF3.4               |

| ESC-USA-05 | Usabilidad             | Feedback directo        | Usuario no comprende cómo filtrar canchas                   | Buscador de reservas                            | Mobile                               | Ayuda contextual + diseño con affordances                                          | 70% usuarios completan sin ayuda                                 | RF1.4                      |

| ESC-ESC-01 | Escalabilidad          | Administrador del sistema | Solicita habilitar sedes en nuevas ciudades                  | Gestión de reservas                             | Despliegue de nuevas sedes           | Sistema permite registrar nuevas sedes y canchas                                   | Tiempo promedio de despliegue <4 horas                          | RF1.4                      |

| ESC-ESC-02 | Escalabilidad          | Usuario                 | Múltiples pagos al mismo tiempo                             | Gestión de pagos                                | Alta concurrencia                    | Sistema procesa pagos concurrentes sin fallos                                      | ≥ 95% de transacciones exitosas bajo carga                       | RF2.1, RF2.2               |

| ESC-ESC-03 | Escalabilidad          | Administrador del sistema | Nuevos complejos deportivos agregados                        | Gestión financiera                              | Incremento en volumen de datos       | Sistema procesa reportes y datos sin degradación                                   | Tiempo de carga de reportes <5 s para 100 complejos              | RF4.1                      |

| ESC-PRB-01 | Capacidad de ser probado | Tester                  | Notificación llegó a un usuario incorrecto                  | Sistema de notificaciones                       | Pruebas de QA                        | Sistema redirige correctamente la notificación según destinatario                  | Casos corregidos en <24h posterior al reporte                    | RF5.4                      |



# Restricciones y Preocupaciones Arquitectónicas — SportSync



## Restricciones



| ID    | Nombre                        | Descripción                                                                                                                                                               |

|-------|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

| CON01 | Stack Tecnológico Fijo        | El frontend debe desarrollarse exclusivamente en \*\*React.js\*\*, y el backend en \*\*Node.js\*\* usando \*\*Express.js\*\*.                                                         |

| CON02 | Arquitectura de Microservicios | El sistema debe implementarse bajo una \*\*arquitectura de microservicios\*\*, cada módulo (reservas, pagos, usuarios, notificaciones, etc.) debe ser autónomo y desacoplado. |

| CON03 | Comunicación REST Síncrona    | La comunicación entre microservicios debe realizarse mediante \*\*APIs REST síncronas\*\*.                                                                                    |

| CON04 | Modelo de Datos Relacional con Cache | El sistema debe utilizar \*\*PostgreSQL\*\* como base de datos relacional principal y \*\*Redis\*\* para caching de consultas críticas (disponibilidad de canchas, sesiones, límites). |

| CON05 | Entorno Web Exclusivo         | La plataforma debe ejecutarse únicamente en \*\*navegadores web\*\*, sin aplicaciones móviles nativas.                                                                        |

| CON06 | Autenticación Externa         | El sistema debe integrar \*\*Auth0\*\* como proveedor de identidad para autenticación y autorización de usuarios.                                                             |

| CON07 | Base de Datos por Microservicio | Cada microservicio debe tener su \*\*propio esquema\*\* o instancia de base de datos para garantizar independencia y desacoplamiento.                                         |

| CON08 | Pasarela de Pago Unificada    | El procesamiento de pagos premium y reservas debe realizarse exclusivamente con \*\*Stripe\*\* como pasarela principal. Integraciones locales (Yape, Plin) se gestionan vía adaptadores. |

| CON9 | Cache Distribuida Obligatoria | Las funciones críticas de disponibilidad y reservas deben implementar \*\*Redis\*\* como sistema de cache distribuido para reducir latencia en horarios pico.                |






## Preocupaciones a Nivel de Arquitectura



| ID    | Nombre                              | Descripción                                                                                                                                                             |

|-------|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

| CRN01 | Escalabilidad de Reservas y Canchas | Asegurar que el sistema pueda gestionar \*\*picos altos de reservas\*\* simultáneas sin degradación, especialmente durante eventos o días de alta demanda.                   |

| CRN02 | Consistencia de Datos de Usuarios y Pagos | Mantener consistencia entre estados de \*\*reserva, pagos y devoluciones\*\*, evitando reservas dobles o pagos no conciliados.                                                |

| CRN03 | Performance de Búsquedas y Disponibilidad | Optimizar consultas de \*\*búsqueda de canchas\*\*, horarios y filtros por ubicación, categoría y precio, con tiempos de respuesta bajo 3 segundos en dispositivos móviles.  |

| CRN04 | Gestión de Estados de Reservas      | Manejar de forma robusta los estados \*\*reservado, pagado, cancelado, reembolsado\*\* para garantizar coherencia transaccional.                                             |

| CRN05 | Control de Límite y Cuotas          | Implementar límites para usuarios gratuitos (número de reservas, cancelaciones gratuitas) incentivando upgrades a planes premium.                                       |

| CRN06 | Comunicación Eficiente entre Módulos | Definir patrones claros de \*\*coordinación y orquestación\*\* entre microservicios (usuarios, reservas, pagos, notificaciones).                                             |

| CRN07 | Seguridad y Autenticación           | Integrar \*\*Auth0\*\* de forma segura para proteger sesiones, endpoints de pago y operaciones críticas como modificación de reservas.                                       |

| CRN08 | Tolerancia a Fallos                 | Diseñar la solución para mantener funciones clave (\*\*ver disponibilidad, pagar reserva\*\*) operativas incluso si un microservicio falla.                                 |

| CRN09 | Uso Eficiente de Cache              | Implementar \*\*Redis\*\* para cachear resultados de disponibilidad, límites de uso y historial reciente, reduciendo carga en PostgreSQL.                                   |

| CRN10 | Experiencia de Usuario Continua     | Garantizar flujos fluidos: \*\*buscar cancha → reservar → pagar → recibir notificación\*\*, con validaciones en tiempo real y fallback de errores amigable.                  |














